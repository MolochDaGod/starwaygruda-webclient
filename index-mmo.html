<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StarWayGRUDA MMO - Ultimate Edition</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #000;
            overflow: hidden;
            color: #fff;
        }
        
        #game-canvas { display: block; width: 100vw; height: 100vh; }
        
        /* Loading Screen */
        #loading-screen {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: linear-gradient(135deg, #0a0a0a, #1a1a3e);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        
        .logo-text {
            font-size: 64px;
            font-weight: bold;
            background: linear-gradient(45deg, #00d4ff, #00ffaa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 30px;
            text-shadow: 0 0 30px rgba(0,212,255,0.5);
        }
        
        .progress-bar {
            width: 400px;
            height: 6px;
            background: rgba(255,255,255,0.1);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #00ffaa);
            width: 0%;
            transition: width 0.3s;
        }
        
        .loading-status { color: #888; font-size: 14px; }
        
        /* Character Creation */
        #character-creation {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: linear-gradient(135deg, #0a0a0a, #1a1a3e);
            display: none;
            z-index: 9998;
        }
        
        .char-create-container {
            display: grid;
            grid-template-columns: 1fr 400px;
            height: 100%;
            gap: 20px;
            padding: 20px;
        }
        
        .char-preview {
            background: rgba(0,0,0,0.5);
            border-radius: 10px;
            position: relative;
        }
        
        .char-options {
            background: rgba(0,0,0,0.7);
            border-radius: 10px;
            padding: 30px;
            overflow-y: auto;
        }
        
        .char-section {
            margin-bottom: 30px;
        }
        
        .char-section h3 {
            color: #00d4ff;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .option-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }
        
        .option-btn {
            background: rgba(0,212,255,0.1);
            border: 2px solid #00d4ff;
            color: #00d4ff;
            padding: 12px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }
        
        .option-btn:hover {
            background: rgba(0,212,255,0.3);
            transform: translateY(-2px);
        }
        
        .option-btn.selected {
            background: #00d4ff;
            color: #000;
            font-weight: bold;
        }
        
        .name-input {
            width: 100%;
            padding: 12px;
            background: rgba(255,255,255,0.05);
            border: 2px solid #00d4ff;
            border-radius: 8px;
            color: #fff;
            font-size: 16px;
        }
        
        .create-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(45deg, #00d4ff, #00ffaa);
            border: none;
            border-radius: 8px;
            color: #000;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
        }
        
        .create-btn:hover {
            transform: scale(1.05);
        }
        
        /* HUD */
        #hud {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0,0,0,0.8);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 20px;
            min-width: 250px;
            z-index: 100;
        }
        
        .hud-title {
            color: #00ffaa;
            font-weight: bold;
            font-size: 16px;
            margin-bottom: 15px;
            border-bottom: 1px solid #00ff00;
            padding-bottom: 5px;
        }
        
        .hud-stat {
            display: flex;
            justify-content: space-between;
            margin: 8px 0;
            font-size: 13px;
        }
        
        .hud-label { color: #888; }
        .hud-value { color: #00d4ff; font-weight: bold; }
        
        .health-bar {
            width: 100%;
            height: 20px;
            background: rgba(255,0,0,0.2);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff0000, #ff6600);
            width: 100%;
            transition: width 0.3s;
        }
        
        /* Minimap - BOTTOM RIGHT */
        #minimap-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0,0,0,0.9);
            border: 3px solid #00ffaa;
            border-radius: 10px;
            padding: 10px;
            z-index: 100;
        }
        
        #minimap-title {
            color: #00ffaa;
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 8px;
            text-align: center;
        }
        
        #minimap {
            width: 250px;
            height: 250px;
            background: #001a1a;
            border: 1px solid #00ffaa;
            border-radius: 5px;
        }
        
        /* Hotkeys Help - Press H */
        #hotkeys {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.95);
            border: 3px solid #ffaa00;
            border-radius: 15px;
            padding: 40px;
            max-width: 800px;
            display: none;
            z-index: 200;
        }
        
        .hotkey-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }
        
        .hotkey-section h4 {
            color: #ffaa00;
            margin-bottom: 10px;
        }
        
        .hotkey-item {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            font-size: 13px;
        }
        
        .hotkey-key {
            background: rgba(255,170,0,0.2);
            padding: 3px 8px;
            border-radius: 3px;
            color: #ffaa00;
            font-weight: bold;
        }
        
        /* Quest System */
        #quest-tracker {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            border: 2px solid #ffaa00;
            border-radius: 10px;
            padding: 15px;
            min-width: 300px;
            max-width: 350px;
            z-index: 100;
        }
        
        .quest-item {
            background: rgba(255,170,0,0.1);
            border-left: 3px solid #ffaa00;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
        }
        
        .quest-title {
            color: #ffaa00;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .quest-objective {
            color: #ccc;
            font-size: 12px;
            margin: 3px 0;
        }
        
        /* Chat */
        #chat {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 450px;
            background: rgba(0,0,0,0.8);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 10px;
            z-index: 100;
        }
        
        #chat-messages {
            height: 150px;
            overflow-y: auto;
            margin-bottom: 10px;
            font-size: 12px;
            font-family: monospace;
        }
        
        .chat-msg { margin: 3px 0; }
        .chat-system { color: #00ffaa; }
        .chat-npc { color: #ffaa00; }
        .chat-player { color: #00d4ff; }
        
        #chat-input {
            width: 100%;
            background: rgba(0,0,0,0.5);
            border: 1px solid #00ff00;
            border-radius: 5px;
            color: #00ff00;
            padding: 8px;
            font-family: monospace;
        }
        
        /* Crosshair */
        #crosshair {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 24px;
            height: 24px;
            pointer-events: none;
            z-index: 50;
        }
        
        #crosshair::before, #crosshair::after {
            content: '';
            position: absolute;
            background: rgba(0,255,0,0.8);
        }
        
        #crosshair::before {
            width: 2px;
            height: 100%;
            left: 50%;
            transform: translateX(-50%);
        }
        
        #crosshair::after {
            height: 2px;
            width: 100%;
            top: 50%;
            transform: translateY(-50%);
        }
        
        /* Profession Select */
        .profession-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .profession-card {
            background: rgba(0,212,255,0.1);
            border: 2px solid #00d4ff;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .profession-card:hover {
            background: rgba(0,212,255,0.3);
            transform: scale(1.05);
        }
        
        .profession-card.selected {
            background: #00d4ff;
            color: #000;
        }
        
        .profession-icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
        
        .profession-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .profession-desc {
            font-size: 11px;
            opacity: 0.8;
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="logo-text">‚≠ê STARWAYGRUDA</div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-bar"></div>
        </div>
        <div class="loading-status" id="loading-text">Initializing MMO systems...</div>
    </div>

    <!-- Character Creation -->
    <div id="character-creation">
        <div class="char-create-container">
            <div class="char-preview" id="char-preview-3d">
                <!-- 3D character preview will be rendered here -->
            </div>
            <div class="char-options">
                <h2 style="color: #00d4ff; margin-bottom: 30px;">Create Your Character</h2>
                
                <div class="char-section">
                    <h3>Character Name</h3>
                    <input type="text" class="name-input" id="char-name" placeholder="Enter character name..." maxlength="20">
                </div>
                
                <div class="char-section">
                    <h3>Race</h3>
                    <div class="option-grid">
                        <button class="option-btn" onclick="selectRace('barbarian')">Barbarian</button>
                        <button class="option-btn" onclick="selectRace('human')">Human</button>
                        <button class="option-btn" onclick="selectRace('alien')">Alien</button>
                        <button class="option-btn" onclick="selectRace('cyborg')">Cyborg</button>
                    </div>
                </div>
                
                <div class="char-section">
                    <h3>Profession</h3>
                    <div class="profession-grid">
                        <div class="profession-card" onclick="selectProfession('brawler')">
                            <div class="profession-icon">‚öîÔ∏è</div>
                            <div class="profession-name">Brawler</div>
                            <div class="profession-desc">Melee combat specialist</div>
                        </div>
                        <div class="profession-card" onclick="selectProfession('marksman')">
                            <div class="profession-icon">üéØ</div>
                            <div class="profession-name">Marksman</div>
                            <div class="profession-desc">Ranged weapons expert</div>
                        </div>
                        <div class="profession-card" onclick="selectProfession('medic')">
                            <div class="profession-icon">üè•</div>
                            <div class="profession-name">Medic</div>
                            <div class="profession-desc">Healing and support</div>
                        </div>
                        <div class="profession-card" onclick="selectProfession('artisan')">
                            <div class="profession-icon">üî®</div>
                            <div class="profession-name">Artisan</div>
                            <div class="profession-desc">Crafting master</div>
                        </div>
                        <div class="profession-card" onclick="selectProfession('scout')">
                            <div class="profession-icon">üèπ</div>
                            <div class="profession-name">Scout</div>
                            <div class="profession-desc">Exploration & tracking</div>
                        </div>
                        <div class="profession-card" onclick="selectProfession('entertainer')">
                            <div class="profession-icon">üé≠</div>
                            <div class="profession-name">Entertainer</div>
                            <div class="profession-desc">Performance & buffs</div>
                        </div>
                    </div>
                </div>
                
                <div class="char-section">
                    <h3>Appearance</h3>
                    <div class="option-grid">
                        <button class="option-btn" onclick="selectColor('brown')">Brown</button>
                        <button class="option-btn" onclick="selectColor('black')">Black</button>
                        <button class="option-btn" onclick="selectColor('white')">White</button>
                        <button class="option-btn" onclick="selectColor('red')">Red</button>
                        <button class="option-btn" onclick="selectColor('blue')">Blue</button>
                        <button class="option-btn" onclick="selectColor('green')">Green</button>
                    </div>
                </div>
                
                <button class="create-btn" onclick="createCharacter()">üöÄ ENTER THE GALAXY</button>
            </div>
        </div>
    </div>

    <!-- Game Canvas -->
    <canvas id="game-canvas"></canvas>

    <!-- Crosshair -->
    <div id="crosshair"></div>

    <!-- HUD -->
    <div id="hud">
        <div class="hud-title">‚≠ê CHARACTER STATUS</div>
        <div class="hud-stat">
            <span class="hud-label">Name:</span>
            <span class="hud-value" id="player-name">Warrior</span>
        </div>
        <div class="hud-stat">
            <span class="hud-label">Profession:</span>
            <span class="hud-value" id="player-profession">Brawler</span>
        </div>
        <div class="health-bar">
            <div class="health-fill" id="health-fill"></div>
        </div>
        <div class="hud-stat">
            <span class="hud-label">HP:</span>
            <span class="hud-value"><span id="health-current">1000</span>/<span id="health-max">1000</span></span>
        </div>
        <div class="hud-stat">
            <span class="hud-label">Level:</span>
            <span class="hud-value" id="player-level">1</span>
        </div>
        <div class="hud-stat">
            <span class="hud-label">Credits:</span>
            <span class="hud-value" id="player-credits">0</span>
        </div>
        <div class="hud-stat">
            <span class="hud-label">Position:</span>
            <span class="hud-value" id="player-pos">0, 0, 0</span>
        </div>
        <div class="hud-stat">
            <span class="hud-label">FPS:</span>
            <span class="hud-value" id="fps">60</span>
        </div>
    </div>

    <!-- Quest Tracker -->
    <div id="quest-tracker">
        <div class="hud-title">üìú ACTIVE QUESTS</div>
        <div id="quest-list">
            <div class="quest-item">
                <div class="quest-title">Welcome to StarWayGRUDA</div>
                <div class="quest-objective">‚úì Create your character</div>
                <div class="quest-objective">‚ñ∂ Explore the starting city</div>
                <div class="quest-objective">‚ñ° Talk to 3 NPCs</div>
            </div>
        </div>
    </div>

    <!-- Minimap (BOTTOM RIGHT) -->
    <div id="minimap-container">
        <div id="minimap-title">üó∫Ô∏è MINIMAP</div>
        <canvas id="minimap"></canvas>
    </div>

    <!-- Chat -->
    <div id="chat">
        <div id="chat-messages">
            <div class="chat-msg chat-system">[System] Welcome to StarWayGRUDA MMO!</div>
            <div class="chat-msg chat-system">[System] Press H for help, T for fast travel</div>
        </div>
        <input type="text" id="chat-input" placeholder="Type message or command...">
    </div>

    <!-- Hotkeys Help (Hidden, shown with H key) -->
    <div id="hotkeys">
        <h2 style="color: #ffaa00; margin-bottom: 20px;">‚å®Ô∏è HOTKEYS & CONTROLS</h2>
        <div class="hotkey-grid">
            <div class="hotkey-section">
                <h4>Movement</h4>
                <div class="hotkey-item"><span>Move</span><span class="hotkey-key">WASD</span></div>
                <div class="hotkey-item"><span>Jump</span><span class="hotkey-key">SPACE</span></div>
                <div class="hotkey-item"><span>Sprint</span><span class="hotkey-key">SHIFT</span></div>
                <div class="hotkey-item"><span>Look</span><span class="hotkey-key">MOUSE</span></div>
            </div>
            <div class="hotkey-section">
                <h4>Interaction</h4>
                <div class="hotkey-item"><span>Interact/Talk</span><span class="hotkey-key">E</span></div>
                <div class="hotkey-item"><span>Attack</span><span class="hotkey-key">CLICK</span></div>
                <div class="hotkey-item"><span>Target</span><span class="hotkey-key">TAB</span></div>
            </div>
            <div class="hotkey-section">
                <h4>UI</h4>
                <div class="hotkey-item"><span>Toggle Map</span><span class="hotkey-key">M</span></div>
                <div class="hotkey-item"><span>Help</span><span class="hotkey-key">H</span></div>
                <div class="hotkey-item"><span>Inventory</span><span class="hotkey-key">I</span></div>
                <div class="hotkey-item"><span>Character</span><span class="hotkey-key">C</span></div>
            </div>
            <div class="hotkey-section">
                <h4>Admin</h4>
                <div class="hotkey-item"><span>Fast Travel</span><span class="hotkey-key">T</span></div>
                <div class="hotkey-item"><span>Console</span><span class="hotkey-key">~</span></div>
            </div>
        </div>
        <button onclick="toggleHelp()" style="width: 100%; margin-top: 30px; padding: 12px; background: #ffaa00; color: #000; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">CLOSE (ESC)</button>
    </div>

    <script type="module" src="/src/mmo-main.js"></script>
</body>
</html>
